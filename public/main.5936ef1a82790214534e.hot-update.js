/*! For license information please see main.5936ef1a82790214534e.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatep1("main",{"./app/components/Canvas/Collections/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var i=s("./node_modules/gsap/index.js"),r=s("./node_modules/lodash/map.js"),l=s.n(r);Object(function(){var e=new Error("Cannot find module './Media'");throw e.code="MODULE_NOT_FOUND",e}());var o=s("./node_modules/ogl/src/core/Transform.js"),n=s("./node_modules/ogl/src/extras/Plane.js");const h=class{constructor({gl:e,scene:t,sizes:s}){this.gl=e,this.sizes=s,this.scene=t,this.group=new o.Transform,this.galleryElement=document.querySelector(".collections__gallery__wrapper"),this.mediasElement=document.querySelectorAll(".collections__gallery__media"),this.scroll={current:0,target:0,last:0,lerp:.1},this.createGeometry(),this.createGallery(),this.createMedias(),this.group.setParent(this.scene),this.show()}createMedias(){this.mediaz=l()(this.mediasElement,((e,t)=>new Object(function(){var e=new Error("Cannot find module './Media'");throw e.code="MODULE_NOT_FOUND",e}())({element:e,geometry:this.geometry,index:t,gl:this.gl,sizes:this.sizes})))}createGeometry(){this.geometry=new n.Plane(this.gl)}createGallery(){this.gallery=new o.Transform,this.galleriesElements=document.querySelector(".collections__gallery"),this.galleries=l()(this.galleriesElements,((e,t)=>new Gallery({element:e,geometry:this.geometry,index:t,gl:this.gl,sizes:this.sizes})))}show(){l()(this.medias,(e=>e.show()))}hide(){l()(this.medias,(e=>e.hide()))}onResize(e){this.Bounds=this.elementsWrapper.getBoundingClientRect(),this.Bounds=this.galleryElement.getBoundingClientRect(),this.sizes=e.sizes,this.width=this.Bounds.width/window.innerWidth*this.sizes.width,this.scroll.current=this.scroll.target=0,l()(this.mediaz,(t=>t.onResize(e,this.scroll.current)))}onTouchDown({x:e,y:t}){this.scroll.last=this.scroll.current}onTouchMove({x:e,y:t}){const s=e.last-e.end;this.scroll.target=this.scroll.last-s}onTouchUp({x:e,y:t}){}update(){this.Bounds&&(this.scroll.current=i.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),this.scroll.current<this.scroll.target?this.direction="right":this.scroll.current>this.scroll.target&&(this.direction="left"),l()(this.medias,((e,t)=>{e.update(this.scroll.current)})))}destroy(){this.scene.removeChild(this.group)}}}},(function(e){e.h=()=>"15a38fa4570e902975d0"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsUUFBVVQsS0FBS1EsT0FBT0UsU0FDdkNWLEtBQUttRCxVQUFZLFFBR3JCaEMsSUFBSW5CLEtBQUs2QixRQUFRLENBQUNDLEVBQU9ULEtBRXJCUyxFQUFNaUIsT0FBTy9DLEtBQUtRLE9BQU9DLFFBQVEsSUFFekMsQ0FHQTJDLE9BQUFBLEdBQ0lwRCxLQUFLRixNQUFNdUQsWUFBWXJELEtBQUtDLE1BRWhDLGtCQzNJWnFELEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wMS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Db2xsZWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wMS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCc7XHJcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCc7XHJcbmltcG9ydCBNZWRpYSBmcm9tICcuL01lZGlhJztcclxuaW1wb3J0IHsgUGxhbmUsIFRyYW5zZm9ybSwgTWVzaCB9IGZyb20gJ29nbCc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3Ioe2dsLHNjZW5lLHNpemVzfSl7XHJcbiAgICAgICAgdGhpcy5nbCA9IGdsXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHNpemVzXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lXHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVHJhbnNmb3JtKClcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdhbGxlcnlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb25zX19nYWxsZXJ5X193cmFwcGVyJylcclxuICAgICAgICB0aGlzLm1lZGlhc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGVjdGlvbnNfX2dhbGxlcnlfX21lZGlhJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGFzdCA6MCxcclxuICAgICAgICAgICAgbGVycDogMC4xLFxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZWRpYXMoKVxyXG4gICAgICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHRoaXMuc2NlbmUpXHJcbiAgICAgICAgdGhpcy5zaG93KClcclxuICAgIH1cclxuICAgIFxyXG5jcmVhdGVNZWRpYXMoKXtcclxuICAgIFxyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5lbGVtZW50KVxyXG5cclxuICAgIHRoaXMubWVkaWF6ID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudCwgKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudClcclxuICAgICAgICByZXR1cm4gbmV3IE1lZGlhKHtcclxuICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXHJcbiAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICBnbDogdGhpcy5nbCxcclxuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG4gICAgY3JlYXRlR2VvbWV0cnkoKXtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUdhbGxlcnkoKXtcclxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5ID0gbmV3IFRyYW5zZm9ybSgpXHJcbiAgICAgICAgICAgIHRoaXMuZ2FsbGVyaWVzRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sbGVjdGlvbnNfX2dhbGxlcnknKTtcclxuICAgICAgICAgICAgdGhpcy5nYWxsZXJpZXMgPSBtYXAodGhpcy5nYWxsZXJpZXNFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR2FsbGVyeSh7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXHJcbiAgICAgICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxyXG4gICAgICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgc2hvdygpe1xyXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoaWRlKCl7XHJcbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgICAgICAgICBvblJlc2l6ZSAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkJvdW5kcyA9IHRoaXMuZWxlbWVudHNXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgICAgICAgIHRoaXMuQm91bmRzID0gdGhpcy5nYWxsZXJ5RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgICAgICB0aGlzLnNpemVzID0gZS5zaXplcztcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9dGhpcy5Cb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGgsXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gdGhpcy5zY3JvbGwudGFyZ2V0ID0gIDBcclxuXHJcbiAgICAgICAgICAgIG1hcCh0aGlzLm1lZGlheixtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZShlLHRoaXMuc2Nyb2xsLmN1cnJlbnQpKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaERvd24gKHsgeCwgeSB9KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC5sYXN0ID0gdGhpcy5zY3JvbGwuY3VycmVudCA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaE1vdmUgKHsgeCwgeSB9KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgRGlzdGFuY2UgPSB4Lmxhc3QgLSB4LmVuZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnNjcm9sbC5sYXN0IC0gRGlzdGFuY2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zY3JvbGwudGFyZ2V0KVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBvblRvdWNoVXAgKHsgeCwgeSB9KSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBvbldoZWVsKHtwaXhlbFgscGl4ZWxZfSl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy54LnRhcmdldCArPSBwaXhlbFg7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZSAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuQm91bmRzKSByZXR1cm5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIHRoaXMuc2Nyb2xsLmxlcnApXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA8IHRoaXMuc2Nyb2xsLnRhcmdldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAncmlnaHQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50ID4gdGhpcy5zY3JvbGwudGFyZ2V0KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwuY3VycmVudClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBkZXN0cm95KCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ2FsbGVyeSlcclxuICAgICAgICAgICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8vIGltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gJ29nbCdcclxuLy8gaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcclxuLy8gaW1wb3J0IHsgbWFwIH0gZnJvbSAnbG9kYXNoJ1xyXG4vLyBpbXBvcnQgTWVkaWEgZnJvbSAnLi9NZWRpYSdcclxuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FsbGVyeXtcclxuLy8gICAgIGNvbnN0cnVjdG9yICh7ZWxlbWVudCwgZ2VvbWV0cnksaW5kZXgsIGdsLCBzY2VuZSAsIHNpemVzfSl7XHJcbi8vICAgICAgICAgdGhpcy5nbCA9IGdsXHJcbi8vICAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lXHJcbi8vICAgICAgICAgdGhpcy5zaXplcyA9IHNpemVzXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKVxyXG5cclxuLy8gICAgICAgICB0aGlzLmVsZW1lbnRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeV9fd3JhcHBlcicpO1xyXG4vLyAgICAgICAgIHRoaXMubWVkaWFzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeV9fbWVkaWEnKVxyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxyXG4vLyAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG5cclxuICAgIFxyXG4vLyAgICAgdGhpcy5zY3JvbGwgPSB7XHJcbi8vICAgICAgICAgY3VycmVudDogMCxcclxuLy8gICAgICAgICB0YXJnZXQ6IDAsXHJcbi8vICAgICAgICAgbGFzdCA6MCxcclxuLy8gICAgICAgICBsZXJwOiAwLjEsXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gdGhpcy5jcmVhdGVUZXh0dXJlKClcclxuLy8gICAgIC8vIHRoaXMuY3JlYXRlUHJvZ3JhbSgpXHJcbi8vICAgICB0aGlzLmNyZWF0ZU1lZGlhcygpXHJcbiAgICBcclxuLy8gICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKVxyXG4vLyAgICAgdGhpcy5jcmVhdGVHYWxsZXJpZXMoKVxyXG4vLyAgICAgdGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcclxuXHJcbi8vICAgICB0aGlzLnNob3coKVxyXG5cclxuLy8gfVxyXG5cclxuLy8gY3JlYXRlTWVkaWFzKCl7XHJcbiAgICBcclxuLy8gICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudClcclxuXHJcbi8vICAgICB0aGlzLm1lZGlheiA9IG1hcCh0aGlzLm1lZGlhc0VsZW1lbnQsIChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4vLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVsZW1lbnQpXHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XHJcbi8vICAgICAgICAgICAgIGVsZW1lbnQsXHJcbi8vICAgICAgICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxyXG4vLyAgICAgICAgICAgICBpbmRleCxcclxuLy8gICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXHJcbi8vICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcbi8vIGNyZWF0ZUdlb21ldHJ5KCl7XHJcbi8vICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wpXHJcbi8vIH1cclxuXHJcbi8vIGNyZWF0ZUdhbGxlcmllcygpe1xyXG4vLyAgICAgLy8gdGhpcy5nYWxsZXJ5ID0gbmV3IFRyYW5zZm9ybSgpXHJcbi8vICAgICB0aGlzLmdhbGxlcmllc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb25zX19nYWxsZXJ5Jyk7XHJcbi8vICAgICB0aGlzLmdhbGxlcmllcyA9IG1hcCh0aGlzLmdhbGxlcmllc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICBcclxuICAgICAgICBcclxuLy8gICAgICAgICByZXR1cm4gbmV3IEdhbGxlcnkoe1xyXG4vLyAgICAgICAgICAgICBlbGVtZW50LFxyXG4vLyAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuLy8gICAgICAgICAgICAgaW5kZXgsXHJcbi8vICAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxyXG4vLyAgICAgICAgICAgICBzaXplczogdGhpcy5zaXplc1xyXG4vLyAgICAgICAgIH0pXHJcbiAgICAgICAgXHJcbi8vICAgICB9KVxyXG4vLyB9XHJcblxyXG5cclxuLy8gc2hvdygpe1xyXG4vLyAgICAgbWFwKHRoaXMubWVkaWF6LCBtZWRpYSA9PiBtZWRpYS5zaG93KCkpXHJcbiAgICBcclxuLy8gfVxyXG5cclxuLy8gaGlkZSgpe1xyXG4vLyAgICAgbWFwKHRoaXMubWVkaWF6LCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXHJcblxyXG4vLyB9XHJcblxyXG4vLyBvblJlc2l6ZSAoZSkge1xyXG4vLyAgICAgdGhpcy5Cb3VuZHMgPSB0aGlzLmVsZW1lbnRzV3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4vLyAgICAgLy8gdGhpcy5Cb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbi8vICAgICB0aGlzLnNpemVzID0gZS5zaXplcztcclxuLy8gICAgIHRoaXMud2lkdGggPXRoaXMuQm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnNpemVzLndpZHRoLFxyXG5cclxuLy8gICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSB0aGlzLnNjcm9sbC50YXJnZXQgPSAgMFxyXG5cclxuLy8gICAgIG1hcCh0aGlzLm1lZGlheixtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZShlLHRoaXMuc2Nyb2xsLmN1cnJlbnQpKVxyXG4vLyB9XHJcblxyXG5cclxuLy8gb25Ub3VjaERvd24gKHsgeCwgeSB9KSB7XHJcbiAgICBcclxuLy8gdGhpcy5zY3JvbGwubGFzdCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQgO1xyXG4vLyB9XHJcblxyXG4vLyBvblRvdWNoTW92ZSAoeyB4LCB5IH0pIHtcclxuXHJcbi8vIGNvbnN0IERpc3RhbmNlID0geC5sYXN0IC0geC5lbmQ7XHJcblxyXG4vLyB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnNjcm9sbC5sYXN0IC0gRGlzdGFuY2U7XHJcblxyXG4vLyAvLyBjb25zb2xlLmxvZyh0aGlzLnNjcm9sbC50YXJnZXQpXHJcblxyXG4vLyB9XHJcblxyXG4vLyBvblRvdWNoVXAgKHsgeCwgeSB9KSB7XHJcblxyXG4vLyB9XHJcblxyXG5cclxuLy8gdXBkYXRlIChzY3JvbGwpIHtcclxuICAgIC8vIGlmICghdGhpcy5Cb3VuZHMpIHJldHVyblxyXG5cclxuICAgIC8vIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQsIHRoaXMuc2Nyb2xsLnRhcmdldCwgdGhpcy5zY3JvbGwubGVycClcclxuICBcclxuICAgIC8vIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgdGhpcy5zY3JvbGwudGFyZ2V0KXtcclxuICAgIC8vICAgICB0aGlzLmRpcmVjdGlvbiA9ICdyaWdodCdcclxuICAgIC8vIH1cclxuICAgIC8vIGVsc2UgaWYgKHRoaXMuc2Nyb2xsLmN1cnJlbnQgPiB0aGlzLnNjcm9sbC50YXJnZXQpe1xyXG4gICAgLy8gICAgIHRoaXMuZGlyZWN0aW9uID0gJ2xlZnQnXHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIFxyXG4vLyAgICAgbWFwKHRoaXMubWVkaWF6LCAobWVkaWEsIGluZGV4KSA9PiB7XHJcbiAgICBcclxuLy8gICAgICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwuY3VycmVudClcclxuLy8gICAgIH0pXHJcblxyXG4vLyB9XHJcblxyXG4vLyBkZXN0cm95KCl7XHJcbi8vIH1cclxuXHJcbi8vIH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCIxNWEzOGZhNDU3MGU5MDI5NzVkMFwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsImdhbGxlcnlFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVkaWFzRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzY3JvbGwiLCJjdXJyZW50IiwidGFyZ2V0IiwibGFzdCIsImxlcnAiLCJjcmVhdGVHZW9tZXRyeSIsImNyZWF0ZUdhbGxlcnkiLCJjcmVhdGVNZWRpYXMiLCJzZXRQYXJlbnQiLCJzaG93IiwibWVkaWF6IiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiTWVkaWEiLCJnZW9tZXRyeSIsIlBsYW5lIiwiZ2FsbGVyeSIsImdhbGxlcmllc0VsZW1lbnRzIiwiZ2FsbGVyaWVzIiwiR2FsbGVyeSIsIm1lZGlhcyIsIm1lZGlhIiwiaGlkZSIsIm9uUmVzaXplIiwiZSIsIkJvdW5kcyIsImVsZW1lbnRzV3JhcHBlciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsIm9uVG91Y2hEb3duIiwieCIsInkiLCJvblRvdWNoTW92ZSIsIkRpc3RhbmNlIiwiZW5kIiwib25Ub3VjaFVwIiwidXBkYXRlIiwiR1NBUCIsInV0aWxzIiwiaW50ZXJwb2xhdGUiLCJkaXJlY3Rpb24iLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=