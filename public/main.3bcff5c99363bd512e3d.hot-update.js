/*! For license information please see main.3bcff5c99363bd512e3d.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatep1("main",{"./app/classes/Page.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s("./node_modules/gsap/index.js"),n=s("./node_modules/normalize-wheel/index.js"),a=s.n(n),l=s("./node_modules/prefix/index.js"),o=s.n(l),r=s("./node_modules/lodash/each.js"),h=s.n(r),m=s("./app/animations/Title.js"),d=s("./app/animations/Paragraph.js"),c=s("./app/animations/Highlight.js"),u=s("./app/animations/Label.js"),p=s("./app/classes/AsyncLoad.js"),g=s("./app/classes/Color.js");class w{constructor({element:e,elements:t,id:s}){this.selector=e,this.selectorChildren={...t,animationsHightlights:'[data-animation="highlight"]',animationsTitles:'[data-animation="title"]',animationsParagraphs:'[data-animation="paragraph"]',animationsLabels:'[data-animation="label"]',preloaders:"[data-src]"},this.id=s,this.transformPrefix=o()("transform"),this.onMouseWheelEvent=this.onMouseWheel.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},h()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=document.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=document.querySelector(e)))})),this.createAnimations(),this.createPreloader()}createPreloader(){this.preloaders=h()(this.elements.preloaders,(e=>new p.default({element:e})))}createAnimations(){this.animations=[],this.animations.length=0,this.animationsTitles=h()(this.elements.animationsTitles,(e=>new m.default({element:e}))),this.animations.push(this.animationsTitles),this.animationsHightlights=h()(this.elements.animationsHightlights,(e=>new c.default({element:e}))),this.animations.push(this.animationsHightlights),this.animationsParagraphs=h()(this.elements.animationsParagraphs,(e=>new d.default({element:e}))),this.animations.push(this.animationsParagraphs),this.animationsLabels=h()(this.elements.animationsLabels,(e=>new u.default({element:e}))),this.animations.push(this.animationsLabels)}show(e){return new Promise((t=>{g.ColorsManager.change({backgroundColor:this.element.getAttribute("data-background"),color:this.element.getAttribute("data-color")}),e?this.animationIn=e:(this.animationIn=i.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1})),this.animationIn.call((e=>{this.addEventListeners(),t()}))}))}hide(){return new Promise((e=>{this.destroy(),this.animationIn=i.default.timeline(),this.animationIn.to(this.element,{autoAlpha:0,onComplete:e})}))}onMouseWheel(e){const{pixelY:t}=a()(e);this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight)}update(){this.scroll.target=i.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=i.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){window.addEventListener("wheel",this.onMouseWheelEvent)}removeEventListeners(){window.removeEventListener("wheel",this.onMouseWheelEvent)}destroy(){this.removeEventListeners()}}}},(function(e){e.h=()=>"f188b2074259fc4188b5"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS2tELFlBQWNDLEVBQUFBLFFBQUtDLFdBQ3hCcEQsS0FBS2tELFlBQVlVLEdBQUc1RCxLQUFLSCxRQUFTLENBQzlCeUQsVUFBVyxFQUNYTyxXQUFZakIsR0FDZCxHQUVWLENBR0FqQyxZQUFBQSxDQUFjbUQsR0FDVixNQUFNLE9BQUNDLEdBQVVDLElBQWVGLEdBRWhDOUQsS0FBS2dCLE9BQU9FLFFBQVU2QyxDQUMxQixDQUVBRSxRQUFBQSxHQUNRakUsS0FBS0YsU0FBU29FLFVBQ2RsRSxLQUFLZ0IsT0FBT0ksTUFBUXBCLEtBQUtGLFNBQVNvRSxRQUFRQyxhQUFlM0MsT0FBTzRDLFlBSXhFLENBR0FDLE1BQUFBLEdBRUlyRSxLQUFLZ0IsT0FBT0UsT0FBU2lDLEVBQUFBLFFBQUttQixNQUFNQyxNQUFNLEVBQUV2RSxLQUFLZ0IsT0FBT0ksTUFBTXBCLEtBQUtnQixPQUFPRSxRQUN0RWxCLEtBQUtnQixPQUFPQyxRQUFVa0MsRUFBQUEsUUFBS21CLE1BQU1FLFlBQVl4RSxLQUFLZ0IsT0FBT0MsUUFBUWpCLEtBQUtnQixPQUFPRSxPQUFPLElBRWhGbEIsS0FBS2dCLE9BQU9DLFFBQVEsTUFDcEJqQixLQUFLZ0IsT0FBT0MsUUFBVSxHQUd0QmpCLEtBQUtGLFNBQVNvRSxVQUNkbEUsS0FBS0YsU0FBU29FLFFBQVFPLE1BQU16RSxLQUFLUSxpQkFBb0IsZUFBY1IsS0FBS2dCLE9BQU9DLGFBRXZGLENBRUF3QyxpQkFBQUEsR0FDSWpDLE9BQU9rRCxpQkFBaUIsUUFBUTFFLEtBQUtVLGtCQUN6QyxDQUVBaUUsb0JBQUFBLEdBQ0luRCxPQUFPb0Qsb0JBQW9CLFFBQVE1RSxLQUFLVSxrQkFDNUMsQ0FFQWlELE9BQUFBLEdBRUkzRCxLQUFLMkUsc0JBQ1Qsa0JDL01SRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcDEvLi9hcHAvY2xhc3Nlcy9QYWdlLmpzIiwid2VicGFjazovL3AxL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xyXG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xyXG5pbXBvcnQgUHJlZml4IGZyb20gJ3ByZWZpeCdcclxuXHJcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xyXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9lYWNoJ1xyXG5cclxuaW1wb3J0IFRpdGxlIGZyb20gJy4uL2FuaW1hdGlvbnMvVGl0bGUnXHJcbmltcG9ydCBQYXJhZ3JhcGggZnJvbSAnLi4vYW5pbWF0aW9ucy9QYXJhZ3JhcGgnXHJcbmltcG9ydCBIaWdobGlnaHQgZnJvbSAnL2FwcC9hbmltYXRpb25zL0hpZ2hsaWdodCdcclxuaW1wb3J0IExhYmVsIGZyb20gJy4uL2FuaW1hdGlvbnMvTGFiZWwnXHJcblxyXG5pbXBvcnQgQXN5bmNMb2FkIGZyb20gJy9hcHAvY2xhc3Nlcy9Bc3luY0xvYWQnXHJcbmltcG9ydCB7IENvbG9yc01hbmFnZXIgfSBmcm9tICcvYXBwL2NsYXNzZXMvQ29sb3InXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgZWxlbWVudCxcclxuICAgICAgICBlbGVtZW50cyxcclxuICAgICAgICBpZFxyXG4gICAgfSkgIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yQ2hpbGRyZW4gPSB7XHJcbiAgICAgICAgICAgIC4uLmVsZW1lbnRzLFxyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uc0hpZ2h0bGlnaHRzOiAnW2RhdGEtYW5pbWF0aW9uPVwiaGlnaGxpZ2h0XCJdJyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uc1RpdGxlczogJ1tkYXRhLWFuaW1hdGlvbj1cInRpdGxlXCJdJyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uc1BhcmFncmFwaHM6ICdbZGF0YS1hbmltYXRpb249XCJwYXJhZ3JhcGhcIl0nLFxyXG4gICAgICAgICAgICBhbmltYXRpb25zTGFiZWxzOiAnW2RhdGEtYW5pbWF0aW9uPVwibGFiZWxcIl0nLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcHJlbG9hZGVyczogJ1tkYXRhLXNyY10nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaWQgPSBpZFxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtUHJlZml4ID0gUHJlZml4KCd0cmFuc2Zvcm0nKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0ge31cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgY3VycmVudDowLFxyXG4gICAgICAgICAgICB0YXJnZXQ6MCxcclxuICAgICAgICAgICAgbGFzdDowLFxyXG4gICAgICAgICAgICBsaW1pdDowXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWFjaCAodGhpcy5zZWxlY3RvckNoaWxkcmVuLCAoZW50cnksa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHwgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZUxpc3QgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5XHJcbiAgICAgICAgICAgICAgICB9ICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSlcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfSAgIGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygpXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNyZWF0ZVByZWxvYWRlciAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJlbG9hZGVycyA9IG1hcCh0aGlzLmVsZW1lbnRzLnByZWxvYWRlcnMsIGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBc3luY0xvYWQoe2VsZW1lbnR9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjcmVhdGVBbmltYXRpb25zICgpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vVGl0bGVzXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1RpdGxlcyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNUaXRsZXMsIGVsZW1lbnQgPT57XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGl0bGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2godGhpcy5hbmltYXRpb25zVGl0bGVzKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9IaWdobGlnaHRzXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNIaWdodGxpZ2h0cyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNIaWdodGxpZ2h0cywoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBIaWdobGlnaHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKHRoaXMuYW5pbWF0aW9uc0hpZ2h0bGlnaHRzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vUGFyYWdyYXBoc1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zUGFyYWdyYXBocyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzLChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2godGhpcy5hbmltYXRpb25zUGFyYWdyYXBocyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBsYWJlbHNcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zTGFiZWxzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc0xhYmVscywgZWxlbWVudCA9PntcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMYWJlbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCh0aGlzLmFuaW1hdGlvbnNMYWJlbHMpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2hvdyAoYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgIENvbG9yc01hbmFnZXIuY2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmFja2dyb3VuZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluID0gYW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluID0gR1NBUC50aW1lbGluZSgpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluLmZyb21Ubyh0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9LHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDEsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Jbi5jYWxsKChfKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGhpZGUgKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IEdTQVAudGltZWxpbmUoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Jbi50byh0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogcmVzb2x2ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgb25Nb3VzZVdoZWVsIChldmVudCl7ICAgICAgICBcclxuICAgICAgICAgICAgY29uc3Qge3BpeGVsWX0gPSBOb3JtYWxpemVXaGVlbChldmVudClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLnRhcmdldCArPSBwaXhlbFlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb25SZXNpemUgKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVhY2godGhpcy5hbmltYXRpb25zLCAoKSA9PiBvblJlc2l6ZSgpKVxyXG4gICAgICAgICAgICAvLyB0ZW1wU29sdXRpb24gY2FsbGluZyBmcm9tIGxvY2FsIHBhZ2Ugb25seVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdXBkYXRlKCl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsdGhpcy5zY3JvbGwubGltaXQsdGhpcy5zY3JvbGwudGFyZ2V0KVxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LHRoaXMuc2Nyb2xsLnRhcmdldCwwLjEpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwuY3VycmVudDwwLjAxKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLnN0eWxlW3RoaXMudHJhbnNmb3JtUHJlZml4XSA9IGB0cmFuc2xhdGVZKC0ke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgpYFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXJzICgpe1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLHRoaXMub25Nb3VzZVdoZWVsRXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzICgpe1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLHRoaXMub25Nb3VzZVdoZWVsRXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICB9XHJcbiAgICB9IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZjE4OGIyMDc0MjU5ZmM0MTg4YjVcIikiXSwibmFtZXMiOlsiUGFnZSIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImVsZW1lbnRzIiwiaWQiLCJ0aGlzIiwic2VsZWN0b3IiLCJzZWxlY3RvckNoaWxkcmVuIiwiYW5pbWF0aW9uc0hpZ2h0bGlnaHRzIiwiYW5pbWF0aW9uc1RpdGxlcyIsImFuaW1hdGlvbnNQYXJhZ3JhcGhzIiwiYW5pbWF0aW9uc0xhYmVscyIsInByZWxvYWRlcnMiLCJ0cmFuc2Zvcm1QcmVmaXgiLCJQcmVmaXgiLCJvbk1vdXNlV2hlZWxFdmVudCIsIm9uTW91c2VXaGVlbCIsImJpbmQiLCJjcmVhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGwiLCJjdXJyZW50IiwidGFyZ2V0IiwibGFzdCIsImxpbWl0IiwiZWFjaCIsImVudHJ5Iiwia2V5Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJOb2RlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJjcmVhdGVBbmltYXRpb25zIiwiY3JlYXRlUHJlbG9hZGVyIiwibWFwIiwiQXN5bmNMb2FkIiwiYW5pbWF0aW9ucyIsIlRpdGxlIiwicHVzaCIsIkhpZ2hsaWdodCIsIlBhcmFncmFwaCIsIkxhYmVsIiwic2hvdyIsImFuaW1hdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiQ29sb3JzTWFuYWdlciIsImNoYW5nZSIsImJhY2tncm91bmRDb2xvciIsImdldEF0dHJpYnV0ZSIsImNvbG9yIiwiYW5pbWF0aW9uSW4iLCJHU0FQIiwidGltZWxpbmUiLCJmcm9tVG8iLCJhdXRvQWxwaGEiLCJjYWxsIiwiXyIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGlkZSIsImRlc3Ryb3kiLCJ0byIsIm9uQ29tcGxldGUiLCJldmVudCIsInBpeGVsWSIsIk5vcm1hbGl6ZVdoZWVsIiwib25SZXNpemUiLCJ3cmFwcGVyIiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ1cGRhdGUiLCJ1dGlscyIsImNsYW1wIiwiaW50ZXJwb2xhdGUiLCJzdHlsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=